(function(){function e(){r=window.innerWidth;n=window.innerHeight;var f=Math.min(r,n),t=f/10*1.25;h.style.height=n-u+"px";c.style.top=n+"px";i.style.webkitTransform="translate(-50%, -50%) scale("+t+")";i.style.transform="translate(-50%, -50%) scale("+t+")"}function o(){var t=typeof scrollY=="undefined"?window.pageYOffset:window.scrollY,i=t/n,e=Math.max(0,1-i*1.5),r=i*n/2;f.style.opacity=e;f.style.webkitTransform="translateY(-"+r+"px)";f.style.transform="translateY(-"+r+"px)";n-u<t?s.classList.add("ac"):s.classList.remove("ac")}var t=function(n){return document.querySelector(n)},r,n,u=64,c=t("#main"),l=t(".arrow"),s=t("#topbar"),i=t(".light-box"),h=t("#header"),v=t(".header-info"),f=t(".hic"),a=function(){var n=function(t,i,r,u){var e=!1,f;if(e){e=!1;n.apply(null,arguments);return}if(e=!0,i=="bottom"&&(i=t.children[0].scrollHeight-t.offsetHeight),i=Math.max(i,0),r=r||15,f=t.scrollTop,t!==window){if(f=t.scrollTop,f==i||t.children[0].scrollHeight<=t.offsetHeight){u&&u();return}}else f=t.scrollY||t.screenTop||0;var o=0,h=function(n,t,i,r){return i*(n/=r)*n+t},s=function(){o++;var n=h(o,f,i-f,r);t!==window?t.scrollTop=n:t.scroll(0,n);o<r&&e?window.requestAnimationFrame(s):u&&u()};s()};return n}();h.addEventListener("mousemove",function(t){var u=[r/2,n/2],f=(t.clientX-u[0])*.05,e=(u[1]-t.clientY)*.05,o=(u[0]-t.clientX)*.01,s=(u[1]-t.clientY)*.01,h=(u[0]-t.clientX)*.02,c=(u[1]-t.clientY)*.02;i.style.marginLeft=f+"px";i.style.marginTop=e+"px"},!1);l.addEventListener("click",function(){a(window,n-u,20)},!1);window.addEventListener("resize",e);window.addEventListener("scroll",o);e();o()})()